<!DOCTYPE html>
<html>
<head>
  <title>math.js | basic usage</title>
  <script src="code.js"></script>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/mathjs/3.20.1/math.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0-beta/katex.min.css" integrity="sha384-L/SNYu0HM7XECWBeshTGLluQO9uVI1tvkCtunuoUbCHHoTH76cDyXty69Bb9I0qZ" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0-beta/katex.min.js" integrity="sha384-ad+n9lzhJjYgO67lARKETJH6WuQVDDlRfj81AJJSswMyMkXTD49wBj5EP004WOY6" crossorigin="anonymous"></script>


<style>
        body,
        html,
        table td,
        table th,
        input[type=text] {
          font-size: 11pt;
          font-family: verdana, arial, sans-serif;
        }
    
        h1 {
          font-size: 11pt;
        }
    
        input[type=text] {
          padding: 5px;
          width: 400px;
        }
    
        table {
          border-collapse: collapse;
        }
    
        table td,
        table th {
          padding: 5px;
          border: 1px solid lightgray;
        }
    
        table th {
          background-color: lightgray;
        }
    
      </style>

</head>


<body>


<p> testpara</p>

    <p class="output"> para 2</p>

    <h1>
            Expression evaluation with math.js, pretty printing with Katex
          </h1>
          
          
          
          <table>
            <tr>
              <th>Expression</th>
              <td><input type="text" id="expr"/></td>
            </tr>
            <tr>
              <th>Pretty print</th>
              <td><div id="pretty">$$$$</div></td>
            </tr>
            <tr>
              <th>Result</th>
              <td><div id="result"></div></td>
            </tr>
              <tr>
              <th>transfo</th>
              <td><div id="transfo"></div></td>
            </tr>
          </table>
          <b>Parenthesis option:</b>
          <input type="radio" name="parenthesis" value="keep" onclick="parenthesis = 'keep'; expr.oninput();" checked>keep
          <input type="radio" name="parenthesis" value="auto" onclick="parenthesis = 'auto'; expr.oninput();">auto
          <input type="radio" name="parenthesis" value="all" onclick="parenthesis = 'all'; expr.oninput();">all
          <br/>
          <b>Implicit multiplication:</b>
          <input type="radio" name="implicit" value="hide" onclick="implicit = 'hide'; expr.oninput();" checked>hide
          <input type="radio" name="implicit" value="show" onclick="implicit = 'show'; expr.oninput();">show
          

    <p > inclusie in deze para 



<script>

// velden in de html benoemen

var out = document.querySelector(".output");

  var expr = document.getElementById('expr'),
      pretty = document.getElementById('pretty'),
      result = document.getElementById('result'),
      transfo = document.getElementById('transfo'),
      parenthesis = 'keep',
      implicit = 'hide';

// Selectfunctie en andere speciale functies importeren

math.import(customFunctions);

// Initialisatie van de state variabelen: begin met een lege vergelijking en een lege keyslist






var equation = math.parse('');
var keysList = [];

updateLatex(equation);

// wat er gebeurt als je iets rechtstreeks invult in de expressiebox
expr.oninput = function () {
    
    equation = math.parse(expr.value)
    updateLatex(equation);
    
}

///*********************************************************************
/// Initialisatie van objecten
///*********************************************************************

multiFunction = {   'Times': 1,
                    'Plus': 1,
                    'And': 1,
                    'Or': 1
    };

///*********************************************************************
///  Keyboard handling
///*********************************************************************

var keyboards = {
    wouter: {
        left:    37,
        up:      38,
        right:   39,
        down:    40,

        minus:   169,  
        plus:    173,
        divide:  160,
        times:   164,
        nthroot: 165,
        power:   192,
        equals:  61,


        0:       48,
        1:       49,
        2:       50,
        3:       51,
        4:       52,
        5:       53,
        6:       54,
        7:       55,
        8:       56,
        9:       57,

        a:       65,
        b:       66,
        c:       67

    },
    sven:   {
        left:    37,
        up:      38,
        right:   39,
        down:    40,

        minus:   219,  
        plus:    189,
        divide:  221,
        times:   186,
        nthroot: 192,
        power:   220,
        equals:  187,


        0:       48,
        1:       49,
        2:       50,
        3:       51,
        4:       52,
        5:       53,
        6:       54,
        7:       55,
        8:       56,
        9:       57,

        a:       65,
        b:       66,
        c:       67
    } 
};

keyboardType = 'wouter';

// maak opzoektabel voor ingedrukte toetsen, gebaseerd op het gekozen keyboardType
var keyLookup = invertSimple(keyboards[keyboardType]);

document.onkeydown = keysPressed
  
function  keysPressed(e) {

if (e.shiftKey == 1)
    switch (keyLookup[e.keyCode]) {
// pijltjes met shift
        case 'left': keysList.push('shift left') ; e.preventDefault(); shiftLeftSelect(equation); break;
        case 'up': out.innerHTML = 'shift up'; break;
        case 'right': keysList.push('shift right') ; e.preventDefault(); slurpRight(equation); break;
        case 'down': keysList.push('shift down') ; e.preventDefault(); flatten(equation); updateLatex(equation); break;

// Speciale cijfers met shift
        case 'equals': equation = math.parse(expr.value); updateLatex(equation); break;
        case '5': updateLatex(equation); break;

// letters met shift
        case 'a': ; break; // shift a
        case 'b': ; break; // shift b
        case 'c': ; break; // shift c

    }



else if (e.ctrlKey == 1)
    switch (keyLookup[e.keyCode]) {
        case 'left': out.innerHTML = 'CTRLleft';break;
        case 'up': out.innerHTML = 'up'; break;
        case 'right': out.innerHTML = 'right'; break;
        case 'down': out.innerHTML = 'down'; break;
    }

else if (e.metaKey == 1)

    switch (keyLookup[e.keyCode]) {
        case 'left': out.innerHTML = 'left'; break;
        case 'up': out.innerHTML = 'up'; break;
        case 'right': out.innerHTML = 'right'; break;
        case 'down': out.innerHTML = 'down'; break;

        case 'f': e.preventDefault(); out.innerHTML = 'meta f'; break;
    }

else if (e.altKey == 1)

    switch (keyLookup[e.keyCode]) {
        case 'left': out.innerHTML = 'left'; break;
        case 'up': out.innerHTML = 'up'; break;
        case 'right': out.innerHTML = 'right'; break;
        case 'down': out.innerHTML = 'down'; break;

// Specialkeys   
        case 'power': replaceWithPower(); keysList.push('power'); break;
        case 'divide':replaceWithDivide(); keysList.push('divide'); break;
    }

else

    switch (keyLookup[e.keyCode]) {
        case 'left': keysList.push('left') ; e.preventDefault(); leftSelect(equation); break;
        case 'up': keysList.push('up') ; e.preventDefault(); upSelect(equation); break;
        case 'right': keysList.push('right'); e.preventDefault(); rightSelect(equation); break;
        case 'down': keysList.push('down'); e.preventDefault(); downSelect(equation); break;

// Specialkeys        
        case 'plus': replaceWithPlus(); keysList.push('plus'); break;
        case 'times': replaceWithTimes(); keysList.push('times'); break;
        case 'power': applyPower(); keysList.push('power'); break;
        case 'minus': replaceWithMinus(); keysList.push('minus'); break;
        case 'divide': applyDivide(); keysList.push('divide'); break;
        case 'nthroot': replaceWithNthroot(); keysList.push('nthroot'); break;
        case 'equals':  replaceWithEquality(); keysList.push('equals'); break;

// Cijfers
        case '1': e.preventDefault(); substituteSelected(selectIt('1'), equation); updateLatex(equation); break; 
        case '2': e.preventDefault(); substituteSelected(selectIt('2'), equation); updateLatex(equation); break;
        case '3': e.preventDefault(); substituteSelected(selectIt('3'), equation); updateLatex(equation); break;
        case '4': e.preventDefault(); substituteSelected(selectIt('4'), equation); updateLatex(equation); break;
        case '5': e.preventDefault(); substituteSelected(selectIt('5'), equation); updateLatex(equation); break;
        case '6': e.preventDefault(); substituteSelected(selectIt('6'), equation); updateLatex(equation); break;
        case '7': e.preventDefault(); substituteSelected(selectIt('7'), equation); updateLatex(equation); break;
        case '8': e.preventDefault(); substituteSelected(selectIt('8'), equation); updateLatex(equation); break;
        case '9': e.preventDefault(); substituteSelected(selectIt('9'), equation); updateLatex(equation); break;
        case '0': e.preventDefault(); substituteSelected(selectIt('0'), equation); updateLatex(equation); break;

// letters
        case 'a': e.preventDefault(); substituteSelected(selectIt('a'), equation); updateLatex(equation); break; //  a
        case 'b': e.preventDefault(); substituteSelected(selectIt('b'), equation); updateLatex(equation); break; //  b
        case 'c': e.preventDefault(); substituteSelected(selectIt('c'), equation); updateLatex(equation); break; //  c
    }
};

function inputDigit (digit,eq) {
    selectAdress = adresses('Select',eq)[0];
    selectNode = readAtAdress(selectAdress,eq);
// arg is de node die geselecteerd is 
    arg = selectNode.args[0];
    if (arg.isSymbolNode) {
        oudGetal = /\d+/.exec(arg.name);
        
        
        if (isNaN(oudGetal)) { } else {
            nieuwGetal = oudGetal.concat(digit);
            substituteSelected(nieuwGetal, eq);
            updateLatex(eq);
            };
        } else {   
    };    
};

</script>

</p>

<ol>
    <li>een
        <script> document.write("nebun") </script>
    </li>
    <li>twee</li>
    <li>drie</li>
</ul>


</body>